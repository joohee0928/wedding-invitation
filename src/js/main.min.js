'use strict';
function _instanceof(a, n) {
  return null != n && 'undefined' != typeof Symbol && n[Symbol.hasInstance]
    ? !!n[Symbol.hasInstance](a)
    : a instanceof n;
}
function _classCallCheck(a, n) {
  if (!_instanceof(a, n))
    throw new TypeError('Cannot call a class as a function');
}
function _defineProperty(a, n, t) {
  return (
    n in a
      ? Object.defineProperty(a, n, {
          value: t,
          enumerable: !0,
          configurable: !0,
          writable: !0,
        })
      : (a[n] = t),
    a
  );
}
var $ = function (a) {
    return document.querySelector(a);
  },
  addEvent = function (a, n, t) {
    return a.addEventListener(n, t);
  },
  isMobile = /iPhone|iPad|iPod|Android/i.test(navigator.userAgent),
  WeddingInvitation = function a() {
    var n = this;
    _classCallCheck(this, a),
      _defineProperty(this, 'init', function () {
        Kakao.init('fd05ae8aaf424b5534d131a95e9f5a43');
      }),
      _defineProperty(this, 'initElements', function () {
        n.el = {
          dday: $('#dday'),
          cover: $('#cover'),
          gallery: $('#gallery'),
          btnKakaoNavi: $('#btnKakaoNavi'),
          btnKakaoMap: $('#btnKakaoMap'),
          btnNaverMap: $('#btnNaverMap'),
          btnTMap: $('#btnTMap'),
          btnKakaoTalk: $('#btnKakaoTalk'),
          btnFacebook: $('#btnFacebook'),
        };
      }),
      _defineProperty(this, 'initEvents', function () {
        var a = n.el,
          t = a.gallery,
          o = a.btnKakaoNavi,
          e = a.btnKakaoMap,
          i = a.btnNaverMap,
          r = a.btnTMap,
          c = a.btnKakaoTalk,
          l = a.btnFacebook;
        lightGallery(t, { download: !1, preload: 2 }),
          addEvent(o, 'click', n.onClickKakaoNavi),
          addEvent(e, 'click', n.onClickKakaoMap),
          addEvent(i, 'click', n.onClickNaverMap),
          addEvent(r, 'click', n.onClickTMap),
          addEvent(c, 'click', n.onClickKakaoTalk),
          addEvent(l, 'click', n.onClickShareFacebook);
      }),
      _defineProperty(this, 'dday', function () {
        var a =
            new Date('September 12, 2020 00:00:00').getTime() -
            new Date().getTime(),
          t = Math.floor(a / 864e5) + 1;
        n.el.dday.innerHTML = t > 0 ? 'D-'.concat(t) : 'D-Day';
      }),
      _defineProperty(this, 'balloon', function () {
        var a = isMobile ? 2 : 1,
          t = n.el.cover,
          o = t.clientWidth,
          e = t.clientHeight,
          i = function () {
            return Math.random() * (o * a + 200) - 100;
          },
          r = [
            'rgba(255, 255, 255, 0.7)',
            'rgba(255, 200, 200, 0.5)',
            'rgba(255, 255, 255, 0.7)',
            'rgba(255, 200, 200, 0.5)',
            'rgba(255, 255, 255, 0.7)',
            'rgba(255, 200, 200, 0.5)',
            'rgba(255, 255, 255, 0.7)',
            'rgba(255, 200, 200, 0.5)',
            'rgba(255, 255, 255, 0.7)',
            'rgba(255, 200, 200, 0.5)',
            'rgba(255, 255, 255, 0.7)',
            'rgba(255, 200, 200, 0.5)',
            'rgba(255, 255, 255, 0.7)',
            'rgba(255, 200, 200, 0.5)',
            'rgba(255, 255, 255, 0.7)',
            'rgba(255, 200, 200, 0.5)',
            'rgba(255, 255, 255, 0.7)',
            'rgba(255, 200, 200, 0.5)',
            'rgba(255, 255, 255, 0.7)',
            'rgba(255, 200, 200, 0.5)',
          ].map(function (a, n) {
            return { id: 'balloon'.concat(n), fillColor: a };
          });
        (n.el.cover.innerHTML = '\n      <svg viewBox="-10 -10 '
          .concat(o * a, ' ')
          .concat(e * a, '">\n          ')
          .concat(
            r
              .map(function (a) {
                var n = a.id,
                  t = a.fillColor;
                return "\n        <g id='"
                  .concat(
                    n,
                    '\'>\n          <defs>\n            <radialGradient id="RadialGradient'
                  )
                  .concat(
                    n,
                    '" cx="0.60" cy="0.38" r="0.35">\n              <stop offset="0%" stop-color="white"/>\n              <stop offset="100%" stop-color="'
                  )
                  .concat(
                    t,
                    "\"/>\n            </radialGradient>\n          </defs>\n          <path id='balloon' fill='url(#RadialGradient"
                  )
                  .concat(n, ")' stroke='")
                  .concat(t, '\' d="M')
                  .concat(-1, ' ')
                  .concat(
                    196,
                    " c-85 -100 85 -100 2 0\"/>\n          <path id='balloon-bottom' fill='"
                  )
                  .concat(t, '\' d="M')
                  .concat(3, ' ')
                  .concat(198, ' h-5 l2 -2 l2 0 " stroke=\'')
                  .concat(t, "' />\n          <path id='thread' d=\"M")
                  .concat(7, ' ')
                  .concat(
                    196,
                    " h-4 q-20,2,1,45 q15,30,-3,49 q-21,22,4,65\" fill='none' stroke='"
                  )
                  .concat(t, "'/>\n        </g>\n      ");
              })
              .join(''),
            '\n      </svg>\n    '
          )),
          r.forEach(function (a) {
            var n = a.id;
            TweenMax.fromTo(
              '#'.concat(n),
              7 * Math.random() + 10,
              {
                css: {
                  transform: 'translate('
                    .concat(i(), 'px, ')
                    .concat(e + 300 * Math.random() + 350, 'px)'),
                },
              },
              {
                css: {
                  transform: 'translate('.concat(i(), 'px, ').concat(-e, 'px)'),
                },
                repeat: -1,
                delay: 12 * Math.random() - 5,
              }
            );
          });
      }),
      _defineProperty(this, 'onClickKakaoNavi', function () {
        Kakao.Navi.start({
          name: '엠타워컨벤션',
          x: 126.934311592801,
          y: 37.3843947506304,
          coordType: 'wgs84',
        });
      }),
      _defineProperty(this, 'onClickKakaoMap', function () {
        window.location.href =
          'https://m.map.kakao.com/actions/detailMapView?id=20515606&refService=place#none';
      }),
      _defineProperty(this, 'onClickNaverMap', function () {
        window.location.href =
          'https://m.place.naver.com/place/34585318/location?subtab=location';
      }),
      _defineProperty(this, 'onClickTMap', function () {
        window.location.href = 'https://apis.openapi.sk.com/tmap/app/routes?appKey=l7xx0cad021f2b204989bff69ad3176bd011&name='
          .concat(n.name, '&lon=')
          .concat(n.location.lon, '&lat=')
          .concat(n.location.lat);
      }),
      _defineProperty(this, 'onClickKakaoTalk', function () {
        Kakao.Link.sendDefault({
          objectType: 'location',
          address: '경기 안양시 만안구 안양로 104 엠타워컨벤션 6층 파티오볼룸',
          addressTitle: '엠타워컨벤션',
          content: {
            title: '구민♥주희 결혼식에 초대합니다!',
            description: '9/12(토) pm 5:30 안양 엠타워컨벤션',
            imageUrl: n.imgUrl,
            link: { mobileWebUrl: n.pageUrl, webUrl: n.pageUrl },
          },
          buttons: [
            {
              title: '웹으로 보기',
              link: { mobileWebUrl: n.pageUrl, webUrl: n.pageUrl },
            },
          ],
        });
      }),
      _defineProperty(this, 'onClickShareFacebook', function () {
        window.open(
          'http://facebook.com/sharer/sharer.php?u='.concat(n.pageUrl),
          '',
          'left=0,top=0,width=650,height=420,personalbar=0,toolbar=0,scrollbars=0,resizable=0'
        );
      }),
      (this.name = '엠타워컨벤션'),
      (this.location = { lat: 37.3844042, lon: 126.931606 }),
      (this.pageUrl = 'https://joohee0928.github.io/wedding-invitation/'),
      (this.imgUrl =
        'https://joohee0928.github.io/wedding-invitation/src/images/visual/main.jpg'),
      (this.el = null),
      this.init(),
      this.initElements(),
      this.initEvents(),
      this.dday(),
      this.balloon();
  };
new WeddingInvitation();
