'use strict';
function _instanceof(n, a) {
  return null != a && 'undefined' != typeof Symbol && a[Symbol.hasInstance]
    ? !!a[Symbol.hasInstance](n)
    : n instanceof a;
}
function _classCallCheck(n, a) {
  if (!_instanceof(n, a))
    throw new TypeError('Cannot call a class as a function');
}
function _defineProperty(n, a, t) {
  return (
    a in n
      ? Object.defineProperty(n, a, {
          value: t,
          enumerable: !0,
          configurable: !0,
          writable: !0,
        })
      : (n[a] = t),
    n
  );
}
var $ = function (n) {
    return document.querySelector(n);
  },
  addEvent = function (n, a, t) {
    return n.addEventListener(a, t);
  },
  isMobile = /iPhone|iPad|iPod|Android/i.test(navigator.userAgent),
  WeddingInvitation = function n() {
    var a = this;
    _classCallCheck(this, n),
      _defineProperty(this, 'init', function () {
        Kakao.init('fd05ae8aaf424b5534d131a95e9f5a43');
      }),
      _defineProperty(this, 'initElements', function () {
        a.el = {
          dday: $('#dday'),
          cover: $('#cover'),
          gallery: $('#gallery'),
          btnKakaoNavi: $('#btnKakaoNavi'),
          btnKakaoMap: $('#btnKakaoMap'),
          btnNaverMap: $('#btnNaverMap'),
          btnTMap: $('#btnTMap'),
          btnKakaoTalk: $('#btnKakaoTalk'),
          btnFacebook: $('#btnFacebook'),
          btnGroominvit: $('#btnGroominvit'),
          btnQRcode: $('#btnQRcode'),
        };
      }),
      _defineProperty(this, 'initEvents', function () {
        var n = a.el,
          t = n.gallery,
          o = n.btnKakaoNavi,
          e = n.btnKakaoMap,
          i = n.btnNaverMap,
          c = n.btnTMap,
          r = n.btnKakaoTalk,
          l = n.btnFacebook,
          d = n.btnGroominvit,
          s = n.btnQRcode;
        lightGallery(t, { download: !1, preload: 2 }),
          addEvent(o, 'click', a.onClickKakaoNavi),
          addEvent(e, 'click', a.onClickKakaoMap),
          addEvent(i, 'click', a.onClickNaverMap),
          addEvent(c, 'click', a.onClickTMap),
          addEvent(r, 'click', a.onClickKakaoTalk),
          addEvent(l, 'click', a.onClickShareFacebook),
          addEvent(d, 'click', a.onClickGroominvit),
          addEvent(s, 'click', a.onClickQRcode);
      }),
      _defineProperty(this, 'dday', function () {
        var n =
            new Date('November 14, 2020 00:00:00').getTime() -
            new Date().getTime(),
          t = Math.floor(n / 864e5) + 1;
        a.el.dday.innerHTML =
          t > 0 ? "D-".concat(t) : "D+".concat(Math.abs(date));
      }),
      _defineProperty(this, 'balloon', function () {
        var n = isMobile ? 2 : 1,
          t = a.el.cover,
          o = t.clientWidth,
          e = t.clientHeight,
          i = function () {
            return Math.random() * (o * n + 200) - 100;
          },
          c = [
            'rgba(255, 255, 255, 0.7)',
            'rgba(255, 200, 200, 0.5)',
            'rgba(255, 255, 255, 0.7)',
            'rgba(255, 200, 200, 0.5)',
            'rgba(255, 255, 255, 0.7)',
            'rgba(255, 200, 200, 0.5)',
            'rgba(255, 255, 255, 0.7)',
            'rgba(255, 200, 200, 0.5)',
            'rgba(255, 255, 255, 0.7)',
            'rgba(255, 200, 200, 0.5)',
            'rgba(255, 255, 255, 0.7)',
            'rgba(255, 200, 200, 0.5)',
            'rgba(255, 255, 255, 0.7)',
            'rgba(255, 200, 200, 0.5)',
            'rgba(255, 255, 255, 0.7)',
            'rgba(255, 200, 200, 0.5)',
            'rgba(255, 255, 255, 0.7)',
            'rgba(255, 200, 200, 0.5)',
            'rgba(255, 255, 255, 0.7)',
            'rgba(255, 200, 200, 0.5)',
          ].map(function (n, a) {
            return { id: 'balloon'.concat(a), fillColor: n };
          });
        (a.el.cover.innerHTML = '\n      <svg viewBox="-10 -10 '
          .concat(o * n, ' ')
          .concat(e * n, '">\n          ')
          .concat(
            c
              .map(function (n) {
                var a = n.id,
                  t = n.fillColor;
                return "\n        <g id='"
                  .concat(
                    a,
                    '\'>\n          <defs>\n            <radialGradient id="RadialGradient'
                  )
                  .concat(
                    a,
                    '" cx="0.60" cy="0.38" r="0.35">\n              <stop offset="0%" stop-color="white"/>\n              <stop offset="100%" stop-color="'
                  )
                  .concat(
                    t,
                    "\"/>\n            </radialGradient>\n          </defs>\n          <path id='balloon' fill='url(#RadialGradient"
                  )
                  .concat(a, ")' stroke='")
                  .concat(t, '\' d="M')
                  .concat(-1, ' ')
                  .concat(
                    196,
                    " c-85 -100 85 -100 2 0\"/>\n          <path id='balloon-bottom' fill='"
                  )
                  .concat(t, '\' d="M')
                  .concat(3, ' ')
                  .concat(198, ' h-5 l2 -2 l2 0 " stroke=\'')
                  .concat(t, "' />\n          <path id='thread' d=\"M")
                  .concat(7, ' ')
                  .concat(
                    196,
                    " h-4 q-20,2,1,45 q15,30,-3,49 q-21,22,4,65\" fill='none' stroke='"
                  )
                  .concat(t, "'/>\n        </g>\n      ");
              })
              .join(''),
            '\n      </svg>\n    '
          )),
          c.forEach(function (n) {
            var a = n.id;
            TweenMax.fromTo(
              '#'.concat(a),
              7 * Math.random() + 10,
              {
                css: {
                  transform: 'translate('
                    .concat(i(), 'px, ')
                    .concat(e + 300 * Math.random() + 350, 'px)'),
                },
              },
              {
                css: {
                  transform: 'translate('.concat(i(), 'px, ').concat(-e, 'px)'),
                },
                repeat: -1,
                delay: 12 * Math.random() - 5,
              }
            );
          });
      }),
      _defineProperty(this, 'onClickKakaoNavi', function () {
        Kakao.Navi.start({
          name: '엠타워컨벤션',
          x: 126.934311592801,
          y: 37.3843947506304,
          coordType: 'wgs84',
        });
      }),
      _defineProperty(this, 'onClickKakaoMap', function () {
        window.location.href =
          'https://m.map.kakao.com/actions/detailMapView?id=20515606&refService=place#none';
      }),
      _defineProperty(this, 'onClickNaverMap', function () {
        window.location.href =
          'https://m.place.naver.com/place/34585318/location?subtab=location';
      }),
      _defineProperty(this, 'onClickTMap', function () {
        window.location.href = 'https://apis.openapi.sk.com/tmap/app/routes?appKey=l7xx0cad021f2b204989bff69ad3176bd011&name='
          .concat(a.name, '&lon=')
          .concat(a.location.lon, '&lat=')
          .concat(a.location.lat);
      }),
      _defineProperty(this, 'onClickKakaoTalk', function () {
        Kakao.Link.sendDefault({
          objectType: 'location',
          address: '경기 안양시 만안구 안양로 104 엠타워컨벤션 6층 파티오볼룸',
          addressTitle: '엠타워컨벤션',
          content: {
            title: '구민♥주희 결혼식에 초대합니다!',
            description: '11/14(토) pm 5:30 안양 엠타워컨벤션',
            imageUrl: a.imgUrl,
            link: { mobileWebUrl: a.pageUrl, webUrl: a.pageUrl },
          },
          buttons: [
            {
              title: '웹으로 보기',
              link: { mobileWebUrl: a.pageUrl, webUrl: a.pageUrl },
            },
          ],
        });
      }),
      _defineProperty(this, 'onClickShareFacebook', function () {
        window.open(
          'http://facebook.com/sharer/sharer.php?u='.concat(a.pageUrl),
          '',
          'left=0,top=0,width=650,height=420,personalbar=0,toolbar=0,scrollbars=0,resizable=0'
        );
      }),
      _defineProperty(this, 'onClickGroominvit', function () {
        window.location.href =
          'https://9min.github.io/wedding-invitation/';
      }),
      _defineProperty(this, 'onClickQRcode', function () {
        window.location.href = 'https://accounts.kakao.com/qr_check_in';
      }),
      (this.name = '엠타워컨벤션'),
      (this.location = { lat: 37.3844042, lon: 126.931606 }),
      (this.pageUrl = 'https://joohee0928.github.io/wedding-invitation/'),
      (this.imgUrl =
        'https://joohee0928.github.io/wedding-invitation/src/images/visual/main.jpg'),
      (this.el = null),
      this.init(),
      this.initElements(),
      this.initEvents(),
      this.dday(),
      this.balloon();
  };
new WeddingInvitation();
