'use strict';
function _instanceof(n, a) {
  return null != a && 'undefined' != typeof Symbol && a[Symbol.hasInstance]
    ? !!a[Symbol.hasInstance](n)
    : n instanceof a;
}
function _classCallCheck(n, a) {
  if (!_instanceof(n, a))
    throw new TypeError('Cannot call a class as a function');
}
function _defineProperty(n, a, e) {
  return (
    a in n
      ? Object.defineProperty(n, a, {
          value: e,
          enumerable: !0,
          configurable: !0,
          writable: !0,
        })
      : (n[a] = e),
    n
  );
}
var $ = function (n) {
    return document.querySelector(n);
  },
  addEvent = function (n, a, e) {
    return n.addEventListener(a, e);
  },
  WeddingInvitation = function n() {
    var a = this;
    _classCallCheck(this, n),
      _defineProperty(this, 'init', function () {
        Kakao.init('fd05ae8aaf424b5534d131a95e9f5a43');
      }),
      _defineProperty(this, 'initElements', function () {
        a.el = {
          dday: $('#dday'),
          gallery: $('#gallery'),
          btnKakaoMap: $('#btnKakaoMap'),
          btnNaverMap: $('#btnNaverMap'),
          btnTMap: $('#btnTMap'),
          btnKakaoTalk: $('#btnKakaoTalk'),
          btnFacebook: $('#btnFacebook'),
        };
      }),
      _defineProperty(this, 'initEvents', function () {
        var n = a.el,
          e = n.gallery,
          t = n.btnKakaoMap,
          i = n.btnNaverMap,
          o = n.btnTMap,
          l = n.btnKakaoTalk,
          r = n.btnFacebook;
        lightGallery(e, { download: !1, preload: 3 }),
          addEvent(t, 'click', a.onClickKakaoMap),
          addEvent(i, 'click', a.onClickNaverMap),
          addEvent(o, 'click', a.onClickTMap),
          addEvent(l, 'click', a.onClickKakaoTalk),
          addEvent(r, 'click', a.onClickShareFacebook);
      }),
      _defineProperty(this, 'dday', function () {
        var n =
            new Date('September 12, 2020 00:00:00').getTime() -
            new Date().getTime(),
          e = Math.floor(n / 864e5) + 1;
        a.el.dday.innerHTML = e > 0 ? 'D-'.concat(e) : 'D-Day';
      }),
      _defineProperty(this, 'onClickKakaoMap', function () {
        window.location.href =
          'https://m.map.kakao.com/actions/detailMapView?id=20515606&refService=place#none';
      }),
      _defineProperty(this, 'onClickNaverMap', function () {
        window.location.href =
          'https://m.place.naver.com/place/34585318/location?subtab=location';
      }),
      _defineProperty(this, 'onClickTMap', function () {
        window.location.href = 'https://apis.openapi.sk.com/tmap/app/routes?appKey=l7xx0cad021f2b204989bff69ad3176bd011&name='
          .concat(a.name, '&lon=')
          .concat(a.location.lon, '&lat=')
          .concat(a.location.lat);
      }),
      _defineProperty(this, 'onClickKakaoTalk', function () {
        Kakao.Link.sendDefault({
          objectType: 'location',
          address: '경기 안양시 만안구 안양로 104 엠타워컨벤션 6층 파티오볼룸',
          addressTitle: '엠타워컨벤션',
          content: {
            title: '구민♥주희 결혼식에 초대합니다!',
            description: '9/12(토) pm 5:30 안양 엠타워컨벤션',
            imageUrl: a.imgUrl,
            link: { mobileWebUrl: a.pageUrl, webUrl: a.pageUrl },
          },
          buttons: [
            {
              title: '웹으로 보기',
              link: { mobileWebUrl: a.pageUrl, webUrl: a.pageUrl },
            },
          ],
        });
      }),
      _defineProperty(this, 'onClickShareFacebook', function () {
        window.open(
          'http://facebook.com/sharer/sharer.php?u='.concat(a.pageUrl),
          '',
          'left=0,top=0,width=650,height=420,personalbar=0,toolbar=0,scrollbars=0,resizable=0'
        );
      }),
      (this.name = '엠타워컨벤션'),
      (this.location = { lat: 37.3844042, lon: 126.931606 }),
      (this.pageUrl = 'https://joohee0928.github.io/wedding-invitation/'),
      (this.imgUrl =
        'https://joohee0928.github.io/wedding-invitation/src/images/visual/main.jpg'),
      (this.el = null),
      this.init(),
      this.initElements(),
      this.initEvents(),
      this.dday();
  };
new WeddingInvitation();
